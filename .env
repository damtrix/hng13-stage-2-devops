# Blue/Green Deployment Environment Variables
# Copy this file to .env and modify as needed

# Docker images for Blue and Green services
BLUE_IMAGE=yimikaade/wonderful:devops-stage-two
GREEN_IMAGE=yimikaade/wonderful:devops-stage-two

# Active pool configuration (blue or green)
ACTIVE_POOL=blue

# Release identifiers for each pool
RELEASE_ID_BLUE=blue-release-v1.0.0
RELEASE_ID_GREEN=green-release-v1.0.0

# Port configuration
PORT=8080

# ---- Alerting / Watcher configuration ----
# Slack Incoming Webhook URL (required for alerts) - set this in your real .env
SLACK_WEBHOOK_URL=
# Initial active pool (blue or green). Used by watcher to seed last-seen pool if needed.
ACTIVE_POOL=blue

# Error rate threshold in percent (e.g. 2 for 2%). Watcher triggers when 5xx_rate > ERROR_RATE_THRESHOLD
ERROR_RATE_THRESHOLD=2

# Sliding window size (number of most-recent requests to measure error rate)
WINDOW_SIZE=200

# Minimum seconds between similar alerts to avoid spamming Slack
ALERT_COOLDOWN_SEC=300

# When MAINTENANCE_MODE=true the watcher will suppress alerts (used during planned toggles)
MAINTENANCE_MODE=false